<% include ./partials/header.ejs %>

<div class="min-h-screen bg-[#121212]">
  <% include ./partials/profile.ejs %>
  <div class="w-full max-h-screen  bg-zinc-900 text-white py-5">
    <div class="flex flex-col items-center gap-2 mt-10">
      <div
        class="image w-20 h-20 rounded-full border-2 border-zinc-800 flex items-center justify-center"
      >
        <i class="text-5xl font-light ri-image-line"></i>
      </div>
      <button id="selectpic" class="text-[#ae7aff] capitalize">
        select picture
      </button>
    </div>

    <div class="flex w-full justify-center items-center mt-10 gap-3">
      <h5
        class="post opacity-100 cursor-pointer border-b-[1px] p-2 border-zinc-400"
      >
        post
      </h5>
      <h5
        class="story opacity-20 cursor-pointer border-b-[1px] p-2 border-zinc-900"
      >
        story
      </h5>
    </div>
    <form
      id="uploadform"
      action="/upload"
      class="w-full px-6 py-3 mt-10"
      enctype="multipart/form-data"
      method="post"
    >
      <input
        class="postinput"
        hidden
        name="category"
        type="radio"
        value="post"
        checked="true"
      />
      <input
        class="storyinput"
        hidden
        name="category"
        type="radio"
        value="story"
      />
      <input id="imageinp" hidden type="file" name="image" />
      <textarea
        name="caption"
        class="px-2 py-1 w-full bg-zinc-900 border-2 h-20 border-zinc-800 resize-none outline-none"
        placeholder="Write a caption..."
      ></textarea>
      <input
        class="w-full bg-[#ae7aff] p-3 text-center font-bold text-black shadow-[5px_5px_0px_0px_#4f4e4e] transition-all duration-150 ease-in-out active:translate-x-[5px] active:translate-y-[5px] active:shadow-[0px_0px_0px_0px_#4f4e4e]"
        type="submit"
        value="Post"
      />
    </form>
  </div>
</div>
<script>
  document.querySelector("#selectpic").addEventListener("click", function () {
    document.querySelector("#uploadform #imageinp").click();
  });

  document.querySelector(".post").addEventListener("click", function () {
    this.style.opacity = 1;
    this.style.borderColor = "rgb(161,161,170)";

    document.querySelector(".story").style.opacity = 0.2;
    document.querySelector(".story").style.borderColor = "#18181B";

    document.querySelector(".postinput").setAttribute("checked", true);
    document.querySelector(".storyinput").removeAttribute("checked");
  });

  document.querySelector(".story").addEventListener("click", function () {
    this.style.opacity = 1;
    this.style.borderColor = "rgb(161,161,170)";

    document.querySelector(".post").style.opacity = 0.2;
    document.querySelector(".post").style.borderColor = "#18181B";

    document.querySelector(".postinput").removeAttribute("checked");
    document.querySelector(".storyinput").setAttribute("checked", true);
  });
</script>
<% include ./partials/footer.ejs %>
